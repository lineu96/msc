colour="orange",
alpha=0.9,
size=1.3,
position = position_dodge(0.9))
ggplot(table4_plot, aes(x=Momento,
y=Predito,
fill = Group))+
theme_bw() +
geom_bar(stat = 'identity',
position = 'dodge',
col=1) + scale_fill_manual(values=c("#A9A9A9", "#FFFAF0"))+
theme(legend.position = 'top') +
#labs(title = "Ecap")+
xlab('Experimental moment') +
ylab('Estimate')+
#geom_point() +
#geom_text(x=3, y=3, label="*")+
facet_wrap(~Métrica, scales = 'free')+
geom_errorbar(aes(x=Momento,
ymin=Min, ymax=Max),
width=0.4,
#colour="orange",
alpha=0.9,
#size=1.3,
position = position_dodge(0.9))
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
z = rep(c('a','b'), 750)
df <- data.frame(x=x,y=y,z=z)
head(df)
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
x = v1*2
y = v1+v2
z = rep(c('a','b'), 750)
df <- data.frame(x=x,y=y,z=z)
head(df)
source('~/.active-rstudio-document', echo=TRUE)
summary(df)
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
w = ifelse(df$y < 33, 'c', NA)
w
summary(df)
w = ifelse(df$y < 35, 'c', NA)
w = ifelse(df$y < 39, 'd', df$y)
w
w = ifelse(df$y < 35, 'c', NA)
w
w = ifelse(df$y < 39 & df$y >= 39 , 'd', w)
w
w = ifelse(df$y < 35, 'c', NA)
w
w = ifelse(df$y < 39 & df$y >= 35 , 'd', w)
w
w = ifelse(is.na(w) == T, 'e', w)
w
summary(w)
table(w)
w = ifelse(df$y < 40, 'c', NA)
w = ifelse(df$y < 60 & df$y >= 40 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
table(w)
w = ifelse(df$y < 40, 'c', NA)
w = ifelse(df$y < 50 & df$y >= 40 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
table(w)
w = ifelse(df$y < 40, 'c', NA)
w = ifelse(df$y < 45 & df$y >= 40 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
table(w)
w = ifelse(df$y < 30, 'c', NA)
w = ifelse(df$y < 45 & df$y >= 30 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
table(w)
w = ifelse(df$y < 30, 'c', NA)
w = ifelse(df$y < 50 & df$y >= 30 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
table(w)
w = ifelse(df$y < 40, 'c', NA)
w = ifelse(df$y < 50 & df$y >= 30 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
table(w)
w = ifelse(df$y < 50, 'c', NA)
table(w)
1500/3
w = ifelse(df$y < 40, 'c', NA)
table(w)
w = ifelse(df$y < 35, 'c', NA)
table(w)
w = ifelse(df$y < 37, 'c', NA)
table(w)
w = ifelse(df$y < 36, 'c', NA)
table(w)
w = ifelse(df$y < 50 & df$y >= 36 , 'd', w)
table(w)
w = ifelse(df$y < 40 & df$y >= 36 , 'd', w)
table(w)
w = ifelse(df$y < 36, 'c', NA)
w = ifelse(df$y < 40 & df$y >= 36 , 'd', w)
table(w)
w = ifelse(df$y < 36, 'c', NA)
w = ifelse(df$y < 42 & df$y >= 36 , 'd', w)
table(w)
w = ifelse(df$y < 36, 'c', NA)
w = ifelse(df$y < 42 & df$y >= 36 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
table(w)
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
z = rep(c('a','b'), 750)
w = ifelse(df$y < 36, 'c', NA)
w = ifelse(df$y < 42 & df$y >= 36 , 'd', w)
w = ifelse(is.na(w) == T, 'e', w)
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
x1 = rep(c('a','b'), 750)
x2 = ifelse(df$y < 36, 'c', NA)
x2 = ifelse(df$y < 42 & df$y >= 36 , 'd', x1)
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
x1 = rep(c('a','b'), 750)
x2 = ifelse(df$y < 36, 'c', NA)
x2 = ifelse(y < 36, 'c', NA)
x2 = ifelse(y < 36, 'c', NA)
x2 = ifelse(y < 42 & y >= 36 , 'd', x1)
x2 = ifelse(is.na(x1) == T, 'e', x1)
x2
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
x1 = rep(c('a','b'), 750)
x2 = ifelse(y < 36, 'c', NA)
x2 = ifelse(y < 42 & y >= 36 , 'd', x1)
x2 = ifelse(is.na(x1) == T, 'e', x1)
df <- data.frame(y=y,
x1=x1,
x2=x2)
head(df)
df <- data.frame(y=y,
x1=x1,
x2=x2)
head(df)
x2 = ifelse(y < 36, 'c', NA)
x2 = ifelse(y < 42 & y >= 36 , 'd', x1)
x2 = ifelse(is.na(x1) == T, 'e', x1)
df <- data.frame(y=y,
x1=x1,
x2=x2)
head(df)
x2
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
x1 = rep(c('a','b'), 750)
x2 = ifelse(y < 36, 'c', NA)
x2
x2 = ifelse(y < 42 & y >= 36 , 'd', x1)
x2
x2 = ifelse(is.na(x1) == T, 'e', x1)
x2
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
x1 = rep(c('a','b'), 750)
x2 = ifelse(y < 36, 'c', NA)
x2 = ifelse(y < 42 & y >= 36 , 'd', x2)
x2 = ifelse(is.na(x1) == T, 'e', x2)
table(x2)
x2 = ifelse(y < 36, 'c', NA)
x2 = ifelse(y < 42 & y >= 36 , 'd', x2)
x2 = ifelse(is.na(x1) == T, 'e', x2)
table(x2)
v1 = rnorm(1500, 20, 5)
v2 = rnorm(1500, 20, 5 )
y = v1+v2
x1 = rep(c('a','b'), 750)
x2 = ifelse(y < 36, 'c', NA)
x2 = ifelse(y < 42 & y >= 36 , 'd', x2)
x2 = ifelse(is.na(x2) == T, 'e', x2)
table(x2)
df <- data.frame(y=y,
x1=x1,
x2=x2)
head(df)
lm(y~x1+x2)
summary(lm(y~x1+x2))
summary(lm(y~x1+x2))
summary(lm(y~(x1+x2)^2))
summary(lm(y~(x1+x2)^2))
summary(lm(y~x1+x2))
#---------------------------------------------------------------
library(tidyverse)
library(gamlss)
source('~/Dropbox/Aulas-Acessorias/10 Ligia Carlos/2 R/0_funcoes.R')
# Dados
dados <- read.csv2("~/Dropbox/Aulas-Acessorias/10 Ligia Carlos/0 dados/dados.csv", sep = ',')
dados2 <- na.omit(dados)
imc <- dados %>% gather(key = 'momento_imc',
value = 'imc', imc1:imc4)
imc <- imc[,c(1,18,19)]
imc$chave <- 1:nrow(imc)
yale <- dados %>% gather(key = 'momento_yale',
value = 'yale', yale1:yale4)
yale <- yale[,c(1,18,19)]
yale$chave <- 1:nrow(yale)
ecap <- dados %>% gather(key = 'momento_ecap',
value = 'ecap', ecap1:ecap4)
ecap <- ecap[,c(1,18,19)]
ecap$chave <- 1:nrow(ecap)
dados3 <- dados %>% gather(key = 'momento',
value = 'peso', peso1:peso4)
dados3 <- dados3[,c(1,2,3,4,5,6,7,8,18,19)]
dados3$chave <- 1:nrow(dados3)
dados3 <- left_join(dados3, imc)
dados3 <- left_join(dados3, yale)
dados3 <- left_join(dados3, ecap)
dados3$momento <- as.factor(dados3$momento)
levels(dados3$momento) <- c('Pré op.','90 dias','365 dias')
dados3 <- dados3[,-c(12,14,16)]
dados4 <- na.omit(dados3)
## Preditor
pred_yale <- yale ~ momento + grupo + idade + altura +
peso + imc + momento:grupo + re(random=~1|id)
table4 <- expand.grid(Grupo=levels(dados4$grupo),
Momento=levels(dados4$momento))
table4
table4
table4$media_yale <- c(2.94, 3.89, 0.87, 0.7, 1.27, 0.82)
table4$sd_yale <- c(2.01, 1.9, 1.24, 0.97, 1.16, 1.01)
table4$media_ecap <- c(11.21,14.63,4.25,4.38,4.77,3.13)
table4$sd_ecap <- c(9.12,8.17,4.56,3.57,5.54,4.28)
table4
rep(table4$Grupo,2)
#---------------------------------------------------------------
table4$media_yale-table4$sd_yale
#---------------------------------------------------------------
table4$media_yale-table4$sd_yale,
table4$media_ecap-table4$sd_ecap
#---------------------------------------------------------------
table4$media_yale-table4$sd_yale,
table4$media_ecap-table4$sd_ecap
table4$media_ecap-table4$sd_ecap
table4_plot <- data.frame(Grupo = rep(table4$Grupo,2),
Momento = rep(table4$Momento,2),
Métrica = c(rep('Yale',6),
rep('Ecap',6)),
Media = c(table4$media_yale,
table4$media_ecap),
Min = c(table4$media_yale-table4$sd_yale,
table4$media_ecap-table4$sd_ecap),
Max= c(table4$media_yale+table4$sd_yale,
table4$media_ecap+table4$sd_ecap))
table4_plot
levels(table4_plot$Grupo)
levels(table4_plot$Grupo) <- c('Placebo', 'Probiotic')
levels(table4_plot$Momento)
levels(table4_plot$Momento) <- c('Pre-Surgical',
'3 months post-surgical',
'1 year post-surgical')
names(table4_plot)[1]
names(table4_plot)[1] <- 'Group'
table4_plot$Métrica <- factor(as.vector(table4_plot$Métrica), levels = c('Yale', 'Ecap'))
table4_plot
x11()
ggplot(table4_plot, aes(x=Momento,
y=Predito,
fill = Group))+
theme_bw() +
geom_bar(stat = 'identity',
position = 'dodge',
col=1) + scale_fill_manual(values=c("#A9A9A9", "#FFFAF0"))+
theme(legend.position = 'top') +
#labs(title = "Ecap")+
xlab('Experimental moment') +
ylab('Estimate')+
#geom_point() +
#geom_text(x=3, y=3, label="*")+
facet_wrap(~Métrica, scales = 'free')+
geom_errorbar(aes(x=Momento,
ymin=Min, ymax=Max),
width=0.4,
#colour="orange",
alpha=0.9,
#size=1.3,
position = position_dodge(0.9))
ggplot(table4_plot, aes(x=Momento,
y=Media,
fill = Group))+
theme_bw() +
geom_bar(stat = 'identity',
position = 'dodge',
col=1) + scale_fill_manual(values=c("#A9A9A9", "#FFFAF0"))+
theme(legend.position = 'top') +
#labs(title = "Ecap")+
xlab('Experimental moment') +
ylab('Estimate')+
#geom_point() +
#geom_text(x=3, y=3, label="*")+
facet_wrap(~Métrica, scales = 'free')+
geom_errorbar(aes(x=Momento,
ymin=Min, ymax=Max),
width=0.4,
#colour="orange",
alpha=0.9,
#size=1.3,
position = position_dodge(0.9))
ggplot(table4_plot, aes(x=Momento,
y=Media,
fill = Group))+
theme_bw() +
geom_bar(stat = 'identity',
position = 'dodge',
col=1) + scale_fill_manual(values=c("#A9A9A9", "#FFFAF0"))+
theme(legend.position = 'top') +
#labs(title = "Ecap")+
xlab('Experimental moment') +
ylab('Estimate')+
#geom_point() +
#geom_text(x=3, y=3, label="*")+
facet_wrap(~Métrica, scales = 'free')#+
ggplot(table4_plot, aes(x=Momento,
y=Media,
fill = Group))+
theme_bw() +
geom_bar(stat = 'identity',
position = 'dodge',
col=1) + scale_fill_manual(values=c("#A9A9A9", "#FFFAF0"))+
theme(legend.position = 'top') +
#labs(title = "Ecap")+
xlab('Experimental moment') +
ylab('Estimate')+
#geom_point() +
#geom_text(x=3, y=3, label="*")+
facet_wrap(~Métrica, scales = 'free')#+
cite(r)
cite()
citation()
table4 <- expand.grid(Grupo=levels(dados4$grupo),
Momento=levels(dados4$momento))
table4$media_yale <- c(2.94, 3.89, 0.87, 0.7, 1.27, 0.82)
table4$sd_yale <- c(2.01, 1.9, 1.24, 0.97, 1.16, 1.01)
table4$media_ecap <- c(11.21,14.63,4.25,4.38,4.77,3.13)
table4$sd_ecap <- c(9.12,8.17,4.56,3.57,5.54,4.28)
1.96*table4$sd_yale
table4$sd_yale
table4 <- expand.grid(Grupo=levels(dados4$grupo),
Momento=levels(dados4$momento))
table4$media_yale <- c(2.94, 3.89, 0.87, 0.7, 1.27, 0.82)
table4$sd_yale <- c(2.01, 1.9, 1.24, 0.97, 1.16, 1.01)
table4$media_ecap <- c(11.21,14.63,4.25,4.38,4.77,3.13)
table4$sd_ecap <- c(9.12,8.17,4.56,3.57,5.54,4.28)
table4_plot <- data.frame(Grupo = rep(table4$Grupo,2),
Momento = rep(table4$Momento,2),
Métrica = c(rep('Yale',6),
rep('Ecap',6)),
Media = c(table4$media_yale,
table4$media_ecap),
Min = c(table4$media_yale-table4$sd_yale,
table4$media_ecap-table4$sd_ecap),
Max= c(table4$media_yale+table4$sd_yale,
table4$media_ecap+table4$sd_ecap))
levels(table4_plot$Grupo) <- c('Placebo', 'Probiotic')
levels(table4_plot$Momento) <- c('Pre-Surgical',
'3 months post-surgical',
'1 year post-surgical')
names(table4_plot)[1] <- 'Group'
table4_plot$Métrica <- factor(as.vector(table4_plot$Métrica), levels = c('Yale', 'Ecap'))
x11()
ggplot(table4_plot, aes(x=Momento,
y=Media,
fill = Group))+
theme_bw() +
geom_bar(stat = 'identity',
position = 'dodge',
col=1) + scale_fill_manual(values=c("#A9A9A9", "#FFFAF0"))+
theme(legend.position = 'top') +
#labs(title = "Ecap")+
xlab('Experimental moment') +
ylab('Estimate')+
#geom_point() +
#geom_text(x=3, y=3, label="*")+
facet_wrap(~Métrica, scales = 'free')#+
table4 <- expand.grid(Grupo=levels(dados4$grupo),
Momento=levels(dados4$momento))
table4$media_yale <- c(2.94, 3.89, 0.87, 0.7, 1.27, 0.82)
table4$sd_yale <- c(2.01, 1.9, 1.24, 0.97, 1.16, 1.01)
table4$media_ecap <- c(11.21,14.63,4.25,4.38,4.77,3.13)
table4$sd_ecap <- c(9.12,8.17,4.56,3.57,5.54,4.28)
table4_plot <- data.frame(Grupo = rep(table4$Grupo,2),
Momento = rep(table4$Momento,2),
Métrica = c(rep('Yale',6),
rep('Ecap',6)),
Media = c(table4$media_yale,
table4$media_ecap),
Min = c(table4$media_yale-table4$sd_yale,
table4$media_ecap-table4$sd_ecap),
Max= c(table4$media_yale+table4$sd_yale,
table4$media_ecap+table4$sd_ecap))
levels(table4_plot$Grupo) <- c('Placebo', 'Probiotic')
levels(table4_plot$Momento) <- c('Pre-Surgical',
'3 months post-surgical',
'1 year post-surgical')
names(table4_plot)[1] <- 'Group'
table4_plot$Métrica <- factor(as.vector(table4_plot$Métrica), levels = c('Yale', 'Ecap'))
citation()
citation("mcglm")
citation("gamlss")
start <- as.POSIXct("2015-12-05 08:00:29.000", "%Y-%m-%d %H:%M:%OS")
end   <- as.POSIXct("2015-12-07 08:00:29.000", "%Y-%m-%d %H:%M:%OS")
x <- seq(start, end, by=0.05)
x
plot(x)
setwd("~/msc/4_qualificacao")
citation()
setwd("~/Área de Trabalho/mepc-slides-master")
x11()
as_d <- rbeta(5000,1,15)
sim <- rbeta(5000,15,15)
as_e <- rbeta(5000,15,1)
# Histograma
layout(mat = matrix(1:6, ncol=3),  height = c(8,3))
#par(mar=c(3.1, 3.1, 1.1, 2.1))
hist(as_d, main = "Assimetria à direita",
xlim = c(0,0.6), xlab = '', ylab = '')
boxplot(as_d, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0,0.6))
hist(sim, main = "Dados simétricos", xlim = c(0.2,0.8),
xlab = '', ylab = '')
boxplot(sim, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0.2,0.8))
hist(as_e, main = "Assimetria à esquerda", xlim = c(0.4,1),
xlab = '', ylab = '')
boxplot(as_e, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0.4,1))
layout(mat = matrix(1:6, ncol=3),  height = c(8,3))
#par(mar=c(3.1, 3.1, 1.1, 2.1))
plot(density(as_d), main = "Assimetria à direita", frame = F,
xlim = c(0,0.6), xlab = '', ylab = '')
boxplot(as_d, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0,0.6))
plot(density(sim), main = "Dados simétricos", frame = F,
xlim = c(0.2,0.8),
xlab = '', ylab = '')
boxplot(sim, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0.2,0.8))
plot(density(as_e), main = "Assimetria à esquerda", frame = F,
xlim = c(0.4,1), xlab = '', ylab = '')
boxplot(as_e, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0.4,1))
layout(mat = matrix(1:6, ncol=3),  height = c(8,3))
x <- seq(0,1,by = .01)
y <- dbeta(x, 3, 15)
plot(x,y, type = 'l', main = "Assimetria à direita", frame=F,
xlim = c(0,0.6), xlab = '', ylab = '')
boxplot(as_d, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0,0.6))
x <- seq(0,1,by = .01)
y <- dbeta(x, 15, 15)
plot(x,y, type = 'l', main = "Dados simétricos", frame=F,
xlim = c(0.2,0.8), xlab = '', ylab = '')
boxplot(sim, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10,
ylim = c(0.2,0.8))
x <- seq(0,1,by = .01)
y <- dbeta(x, 15, 3)
plot(x,y, type = 'l', main = "Assimetria à esquerda", frame=F,
xlim = c(0.4,1), xlab = '', ylab = '')
boxplot(as_e, horizontal=TRUE,
outline=TRUE,
frame=F,
#col = "#CEECF5",
width = 10, ylim=c(0.4,1))
setwd("~/msc/4_qualificacao")
citation()
citation("car")
